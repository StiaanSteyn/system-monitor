import psutil
from datetime import datetime

# Get current timestamp
time_now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

# Collect system stats
cpu_usage = psutil.cpu_percent(interval=1)
memory_usage = psutil.virtual_memory().percent
disk_usage = psutil.disk_usage('/').percent

# Format log entry
log_entry = f"{time_now} | CPU: {cpu_usage}% | Memory: {memory_usage}% | Disk: {disk_usage}%\n"

# Save to log file
with open("logs/system_log.txt", "a") as log_file:
    log_file.write(log_entry)

print("System stats recorded:", log_entry.strip())
